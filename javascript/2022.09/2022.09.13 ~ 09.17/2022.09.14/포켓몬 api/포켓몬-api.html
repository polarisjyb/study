<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

</head>

<body>
  <script>
    // class constructor for object
    class PokemonData {
      constructor(id, name, imgUrl, description) {
        this.id = id;
        this.name = name;
        this.imgUrl = imgUrl;
        this.description = description;
      }
    }

    // data getting
    function setPokemoJsonData(minIdNumber, maxIdNumber) {
      let totalData = [];
      for(let i = minIdNumber; i <= maxIdNumber; i++) {
        const _BASIC_URL = `https://pokeapi.co/api/v2/pokemon-species/${i}/`;
        const request = new XMLHttpRequest();
        request.open("GET", _BASIC_URL);
        request.responseType = "json";
        request.send();
        request.addEventListener('load', () => {
          const _POKEMON_API = request.response;
          
          // collect korea name
          const getDescriptionString = object => {
            object = typeof object === "object" ? object : console.error('need to check type');
            let temp = [];
            for(let text of object) {
              if(text.language.name === "ko") {
                temp.push(text.flavor_text);
              }
            }
            return temp;
          }
          // put data
          let setObj = {
            id : _POKEMON_API.order,
            name : _POKEMON_API.names[2].name,
            imgUrl : `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${i}.png`,
            description : getDescriptionString(_POKEMON_API.flavor_text_entries)
          }
          // make instance
          let tempObject = new PokemonData(setObj.id, setObj.name, setObj.imgUrl, setObj.description);
          // push array
          totalData.push(tempObject);
        });
      }
      return totalData;
    };
    let total = setPokemoJsonData(1, 905);
    console.log(total);

  </script>
</body>

</html>