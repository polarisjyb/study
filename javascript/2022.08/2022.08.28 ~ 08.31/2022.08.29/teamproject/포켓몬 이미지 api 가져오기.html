<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
  <script>

    const docInit = {
      body : document.body,
      root : document.createElement('div'),
      pokemonDiv: document.createElement('div'),
      pokemonImg: document.createElement('img')
    }

    const docStyling = {
      size: function(element, width, height){
        element.style.width = width;      
        element.style.height = height;      
      }
    }

    docInit.body.appendChild(docInit.root);
    docInit.body.style.margin = '0px';
    docInit.body.style.padding = '0px';
    docInit.root.id = 'root';
    
    docStyling.size(docInit.root, '100vw', '100vh');


    // 포켓몬 api를 객체로 묶음
    const pokemonApiList = {
      ability: 'ability',
      berry: 'berry',
      berryFirmness: 'berryFirmness',
      berryFlavor: 'berryFlavor',
      characterIstic: 'characterIstic',
      contestEffect: 'contestEffect',
      contestType: 'contestType',
      eggGroup: 'eggGroup',
      encounterCondition: 'encounterCondition',
      encounterConditionValue: 'encounterConditionValue',
      encounterMethod: 'encounterMethod',
      evolutionChain: 'evolutionChain',
      evolutionTrigger: 'evolutionTrigger',
      gender: 'gender',
      generation: 'generation',
      growthRate: 'growthRate',
      item: 'item',
      itemAttribute: 'itemAttribute',
      itemCategory: 'itemCategory',
      itemFlingEffect: 'itemFlingEffect',
      itemPocket: 'itemPocket',
      language: 'language',
      location: 'location',
      locationArea: 'locationArea',
      machine: 'machine',
      move: 'move',
      moveAilment: 'moveAilment',
      moveBattleStyle: 'moveBattleStyle',
      moveCategory: 'moveCategory',
      moveDamageClass: 'moveDamageClass',
      moveLearnMethod: 'moveLearnMethod',
      moveTarget: 'moveTarget',
      nature: 'nature',
      palParkArea: 'palParkArea',
      pokeathlonStat: 'pokeathlonStat',
      pokedex: 'pokedex',
      pokemon: 'pokemon',
      pokemonColor: 'pokemonColor',
      pokemonForm: 'pokemonForm',
      pokemonHabitat: 'pokemonHabitat',
      pokemonShape: 'pokemonShape',
      pokemonSpecies: 'pokemonSpecies',
      region: 'region',
      stat: 'stat',
      superContestEffect: 'superContestEffect',
      type: 'type',
      version: 'version',
      versionGroup: 'versionGroup'
    }

    const _BASIC_URL = `https://pokeapi.co/api/v2/pokemon?limit=905/`;
      const request = new XMLHttpRequest();
        request.open( 'GET' , _BASIC_URL);
        request.responseType = "json";
        request.send();
        request.addEventListener('load', () => {
        const _POKEMON_API = request.response;
        console.log(_POKEMON_API);
        // console.log(_POKEMON_API.results);
        // console.log(_POKEMON_API.results.length);
      
      })

    
    // 포켓몬 form (이미지) 를 전역변수로 선언
    const pokemonSpecies_URL = `https://pokeapi.co/api/v2/pokemon-species/`;
    const pokemonSpeciesRequest = new XMLHttpRequest();
      request.open( 'GET' , pokemonSpecies_URL);
      request.responseType = "json";
      request.send();
      request.addEventListener('load', () => {
      console.log(pokemonSpecies_URL.length);
      const _POKEMON_API = request.response;
      console.log(_POKEMON_API);

      // 반복문의 조건식을 _POKEMON_API.count - 7 (898) 만큼 보다 작게 작성했다.
      // 포켓몬의 front default(기본 앞모습)이미지를 pokemonForm 이라는 변수로 선언하여
      // pokemonImg 태그의 소스 링크로 적용한다.
      // 반복문으로 _POKEMON_API.count - 7 (898) 만큼 --> API 에는 905마리로 나와있지만 이미지가 있는 개체수는 899까지밖에 없다.
      // pokemonDiv와 pokemonImg 가 생성되면서 기본 ${i+1} 순서 부터 이미지 요소가 들어간다.

      for(let i = 0; i < _POKEMON_API.count - 7; i++) {

        let root = document.getElementById('root');
        let pokemonDiv = document.createElement('div');
        let pokemonImg = document.createElement('img')

        root.appendChild(pokemonDiv);
        pokemonDiv.appendChild(pokemonImg);

        docStyling.size(pokemonDiv, '20vw', '20vh');
        docStyling.size(pokemonImg, '200px', '200px');

        let pokemonForm = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${i+1}.png`

        console.log(pokemonForm);

        pokemonImg.src = pokemonForm;

        // pokemonimg.src = (`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${i+1}.png`);

      }

    }) 

   
    
  </script>

</body>
</html>